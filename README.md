
# 🏛️ InAsset 서비스 기획서 (MVP) 

## 1. 개요 (Overview)

**InAsset**은 사용자의 5년치 금융 데이터를 AI가 학습·분석하여, 단순한 가계부를 넘어 자산의 흐름을 통찰(Insight)하고 미래를 설계하는 **개인화 지능형 자산 관리 서비스**입니다. N100 미니 PC를 서버로 활용하여 프라이버시를 보호하면서도 강력한 분석 기능을 제공합니다.

## 2. 목적 (Purpose & Pain Point)

- **자산 데이터의 통합 및 실시간성 확보:** 부부 간의 자산 및 수입/지출을 월 단위로 엑셀로 취합/관리하던 정산 방식으로 인해, 일간으로 발생되는 현황을 통제할 수 없던 문제를 실시간성을 확보로 해결. 
- **자산정보의 시각화** : 엑셀로만 취합하고 조회할 수 밖에 없었던 과거의 자산 및 수입/취합 기록을 체계적인 DB로 변환하고 이를 시각화 함으로써 정보 접근성 향상.
    
- **지능형 질의응답:** 복잡한 필터링 대신 "자연어"로 자산 상태를 즉시 파악하여 인사이트를 제공
    
- **AI에 대한 기술적 성장:** DB 설계(SQLite), AI 에이전트 구축(NL-to-SQL), 데이터분석(Pandas), UX 개발(Streamlit), Docker 배포 등 풀스택 개발 프로세스 경험.
    

## 3. 기대 효과 (Effect)

### 1. 데이터의 자산화 및 통찰 (Data Insight)

- **자산 정보의 통계적 가치 발굴:** 단순히 흩어져 있던 5년 치의 수입/지출 기록을 DB화하여, 장기적인 소비 패턴과 자산 성장 흐름을 통계적으로 파악할 수 있습니다.
    
- **소비 예측을 통한 의사결정 지원:** 시점별 스냅샷 데이터를 통해 과거의 특정 결정이 현재 자산에 미친 영향을 시각적으로 확인하고 앞으로의 소비를 예측해줌에 따라 미래 소비형태 및 자산 상황을 판단할 수 있습니다.

### 2. 사용자 경험의 혁신 (AI-Driven UX)

- **복잡한 분석도 간단히:** 복잡한 엑셀 필터나 SQL 쿼리 없이도 "최근 3년간 식비 추이 그려줘"와 같은 자연어 질문만으로 필요한 정보를 즉시 시각화할 수 있습니다.
    
- **직관적인 자산 모니터링:** 파이 차트, 게이지 차트, 누적 영역 차트 등을 통해 전체 자산 현황을 한눈에 파악하고 목표 대비 현재 위치를 실시간으로 확인합니다.
    

### 3. 기술적 역량 강화 (Technical Growth)

- **풀스택 개발 경험:** Streamlit을 활용한 프론트엔드부터 Docker 기반의 배포, 그리고 LLM을 활용한 NL-to-SQL 에이전트 구축까지 현대적인 AI 서비스 개발 전 과정을 실습합니다.
    
- **홈랩 인프라 운영:** N100 미니 PC를 활용해 Docker 환경을 구축하고 PWA를 통해 외부에서도 접속 가능한 안정적인 개인 서버 운영 노하우를 습득합니다.
    

---

## 4. 핵심 개선과제 (Challenges)

### 1. 데이터 파편화 해소 및 표준화 (Data Consistency)

단순히 데이터를 모으는 것이 아니라, 5년이라는 긴 시간 동안 변해온 기록의 기준을 하나로 정렬하는 것이 최우선 과제입니다.

- **개선 방향:** 5년 전과 현재의 서로 다른 소비 카테고리(예: '식비'와 '카페/간식')를 하나의 표준 체계로 통합하여, 장기적인 추세 분석이 가능하게 만듭니다.
    
- **목표:** 과거 엑셀의 '정산용' 데이터와 현재의 '실시간' 데이터를 동일한 선상에서 비교할 수 있는 정규화된 DB 구조를 확립합니다.
    

### 2. 사후 정산에서 '실시간 통제'로의 패러다임 전환 (Real-time Control)

한 달이 지난 뒤에야 "많이 썼네"라고 후회하는 '정산' 방식에서 벗어나야 합니다.

- **개선 방향:** 부부 공동의 예산 대비 현재 지출 현황을 실시간으로 확인하여, 지출이 발생하는 시점에 즉각적인 통제력을 가질 수 있도록 프로세스를 개선합니다.
    
- **목표:** 데이터 입력의 허들을 낮추고, 대시보드를 통해 오늘 내가 쓸 수 있는 여유 자금을 즉시 파악할 수 있는 환경을 구축합니다.
    

### 3. '기록'을 넘어선 '의사결정 지원' (Decision Support)

단순히 "얼마 썼나?"를 보여주는 수준을 넘어, "앞으로 어떻게 될까?"에 대한 답을 줄 수 있어야 합니다.

- **개선 방향:** 5년치 데이터를 기반으로 현재의 소비 속도가 유지될 때의 월말/연말 자산 예측치를 제공하여, 부부의 미래 설계를 돕는 인사이트를 도출합니다.
    
- **목표:** 과거의 패턴(스냅샷)을 분석하여 특정 지출이 자산 성장에 미치는 영향을 시뮬레이션하고, 합리적인 저축 목표를 제안합니다.
    

### 4. 사용자 맞춤형 '지능형 접근성' 강화 (Intelligent Accessibility)

엑셀의 복잡한 수식과 필터를 몰라도 누구나 자산 정보를 꺼내 볼 수 있어야 합니다.

- **개선 방향:** 사용자가 궁금한 시점에 기술적인 장벽(SQL, 엑셀 함수) 없이 자연어로 질문하고, AI가 그 의도를 정확히 파악하여 결과(차트, 표)를 내놓는 직관적인 인터페이스를 구현합니다.
    
- **목표:** "우리의 3년간 주거비 비중 변화는?" 같은 질문에 대해 AI가 즉각적으로 시각화된 리포트를 생성하도록 하여 정보 접근성을 극대화합니다.
    

---

## 5. 기술적 해결 방안 (Solutions)
### 1) 데이터 표준화: "LLM 기반 지능형 ETL 파이프라인"

5년치 데이터의 파편화(카테고리 불일치 등)를 해결하기 위해 단순 코드 작성이 아닌 AI를 활용한 전처리 로직을 도입합니다.

- **Semantic Mapping:** 과거의 모호한 지출 항목(예: '편의점', 'GS25')을 LLM(OpenAI 또는 로컬 모델)에 입력하여 현재 정의한 표준 카테고리(예: '식비/간식')로 자동 분류 및 매핑합니다.
    
- **Schema 정규화:** SQLite를 사용하여 `owner`(작성자), `category_depth1`, `category_depth2`, `is_fixed_cost`(고정비 여부) 등의 컬럼을 포함한 통합 스키마를 설계하여 데이터 간의 비교 가능성을 확보합니다.
    

### 2) 실시간 통제: "Streamlit PWA & 모바일 최적화 UX"

'사후 정산'을 '실시간 통제'로 바꾸려면 입력의 허들이 0에 수렴해야 합니다.

- **PWA(Progressive Web App) 구축:** Docker로 배포된 Streamlit 앱에 PWA 설정을 추가하여 부부의 스마트폰 홈 화면에 앱 아이콘을 생성, 앱스토어 설치 없이 즉시 접근하도록 합니다.
    
- **Quick-Entry 폼:** 자주 쓰는 항목은 버튼 하나로 입력되게 하고, `st.data_editor`를 활용해 엑셀처럼 여러 내역을 한꺼번에 수정할 수 있는 UI를 제공합니다.
    
- **실시간 예산 게이지:** 지출 입력 즉시 이번 달 남은 예산을 '게이지 차트'로 시각화하여 심리적 통제력을 강화합니다.
    

### 3) 의사결정 지원: "통계 기반 미래 시뮬레이션 엔진"

단순 조회를 넘어 예측 기능을 구현하기 위해 Python의 데이터 분석 라이브러리를 적극 활용합니다.

- **소비 속도 분석:** `Pandas`의 시계열 분석 기능을 이용해 현재 날짜 기준 지출 속도(Burn-rate)를 계산하고, "이 속도대로라면 이번 달 말에 예산을 % 초과할 것"이라는 경고 로직을 구현합니다.
    
- **자산 성장 곡선 예측:** `Prophet`이나 간단한 회귀 모델을 연동하여 과거 5년의 자산 성장률을 기반으로 1년 뒤, 3년 뒤의 자산 스냅샷을 시뮬레이션합니다.
    

### 4) 지능형 접근성: "LangChain 기반 NL-to-SQL 에이전트"

비전공자인 배우자도 데이터를 쉽게 뽑아볼 수 있도록 하는 핵심 기술입니다.

- **Self-Querying Retriever:** 사용자의 질문("작년 대비 카페 지출이 얼마나 늘었어?")을 분석하여 SQL 쿼리로 변환하고, SQLite DB에서 직접 데이터를 추출하는 `SQL Database Chain`을 구축합니다.
    
- **동적 시각화 연동:** AI가 뽑아낸 데이터를 `Plotly`나 `Altair` 차트로 즉시 렌더링하여 채팅창 안에서 그래프 리포트를 받아볼 수 있게 합니다.
    
- **Error Self-Correction:** AI가 생성한 SQL에 오류가 있을 경우, 오류 메시지를 다시 AI에게 전달하여 스스로 쿼리를 수정하도록 설계(Self-healing)합니다.
---

## 6. 실행 로드맵 (Roadmap)

### Phase 1. 데이터 파이프라인 및 기반 구축 (1-2주 차)

**"5년의 과거를 정리하고, 미래를 담을 그릇을 만듭니다."**

- **DB 스키마 설계:** SQLite를 사용하여 부부 공동 관리에 최적화된 테이블 구조 설계 (Owner, Category, Fixed/Variable 등).
    
- **지능형 ETL 스크립트:** Pandas와 LLM을 연동하여 5년치 파편화된 엑셀 데이터를 표준 스키마로 변환 및 적재.
    
- **데이터 검증(Human-in-the-loop):** AI가 분류한 카테고리가 맞는지 사용자가 확인하고, 틀렸을 경우 간단히 수정할 수 있는 **'검수 페이지'** 
	- 수정 데이터는 나중에 AI를 재학습시키거나 프롬프트를 고도화하는 소중한 피드백 루프가 됩니다.
- **Anonymization(익명화):** LLM API로 데이터를 보내기 전, 카드 번호나 특정 개인 정보는 마스킹 처리하는 로직을 추가하세요.
    

### Phase 2. 실시간 대시보드 및 입력부 구현 (3-4주 차)

**"엑셀을 버리고 스마트폰으로 관리를 시작합니다."**

- **Streamlit UI 프레임워크:** 멀티 페이지 구조 설정 (대시보드 / 내역 입력 / 분석 보고서).
    
- **실시간 입력 폼:** 모바일 최적화된 지출 입력 기능 및 `st.data_editor`를 통한 간편 수정 구현.
    
- **현재 현황 시각화:** 게이지 차트를 활용한 예산 대비 지출 현황(Burn-rate) 실시간 표시.
    
- **PWA 설정:** 모바일 홈 화면 설치를 위한 Manifest 및 서비스 워커 설정.
    

### Phase 3. AI 에이전트 및 분석 엔진 탑재 (5-7주 차)

**"데이터에 인격과 지능을 부여하는 핵심 단계입니다."**

- **NL-to-SQL 엔진:** LangChain을 활용해 자연어 질문을 SQL로 변환하는 챗봇 구현.
    
- **데이터 분석 도구 연동:** Plotly를 사용하여 AI가 생성한 결과물을 동적 그래프로 렌더링.
    
- **예측 모델 적용:** Pandas와 Prophet 라이브러리를 활용하여 월말 예상 지출액 및 미래 자산 시뮬레이션 로직 연동.
    
- **Self-Correction:** AI가 쿼리 오류를 스스로 수정하도록 프롬프트 고도화.
    

### Phase 4. N100 홈랩 배포 및 보안 강화 (8주 차)

**"집 밖에서도 안전하게 접속하는 완성된 서비스를 만듭니다."**

- **Docker 컨테이너화:** 앱과 DB 환경을 하나로 묶어 N100 미니 PC에서 독립적으로 구동.
    
- **보안 시스템:** `streamlit-authenticator`를 통한 사용자 인증 및 로그인 페이지 구축.
    
- **외부 접속 환경:** Cloudflare Tunnel을 연결하여 HTTPS 보안 접속 환경 구축 (포트포워딩 미사용).
    
- **백업 자동화:** 주기적인 SQLite DB 백업 스크립트 설정.
- **Version Control:** 데이터 정제 과정에서 원본 엑셀 데이터는 절대 건드리지 않고, 별도의 `raw` 테이블과 `refined` 테이블로 나누어 관리
    

    
